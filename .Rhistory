rm(list=ls())
library(cluster)
library(purrr)
library(factoextra)
library(dplyr)
library(dendextend)
library(tidyverse)
library(caret)
data <- read.csv('Ready_for_csv_export.csv', sep = ';')
data_nafix = na_if(data, "n.a.")
data_nafix = na_if(data_nafix, 0)
data_naomit = na.omit(data_nafix)
colnum <- as.vector(colnames(data_naomit[3:18]))
data_naomit[colnum]
data_naomit[colnum] <- sapply(data_naomit[colnum],as.numeric)
sapply(data_naomit, class)
#####Set of ratios
# 1. Ratio: Gross Loans
data_naomit$GrossLoans <- data_naomit$Loans / data_naomit$TotalAssetes
# 2. Ratio: Trade
data_naomit$Trade <- data_naomit$TradingLiabilities / data_naomit$TotalAssetes
# 4. Ratio: Interbank Lending
data_naomit$InterbankLending <- (data_naomit$LoansAdvances + data_naomit$AssetRepos)  / data_naomit$TotalAssetes
# 5. Ratio: Interbank Borrowing
data_naomit$InterbankBorrowing <- (data_naomit$BankDeposits + data_naomit$LiabilityRepos)  / data_naomit$TotalAssetes
# 6. Ratio: Wholesale Debt
data_naomit$WholesaleDebt <- (data_naomit$OtherDepositsShortBorrowings + data_naomit$LongFunding)  / data_naomit$TotalAssetes
# 7. Ratio: Stable Funding
data_naomit$StableFunding <- (data_naomit$CustomerDeposits + data_naomit$LongFunding)  / data_naomit$TotalAssetes
# 8. Ratio: Deposits
data_naomit$Deposits <- data_naomit$CustomerDeposits / data_naomit$TotalAssetes
data_subset <- data_naomit[19:25]
data_subset <- scale(data_subset)
View(data_subset)
View(data_naomit)
rownames(data_naomit) = data_naomit$Name
colnum <- as.vector(colnames(data_naomit[3:18]))
data_naomit[colnum]
data_naomit[colnum] <- sapply(data_naomit[colnum],as.numeric)
sapply(data_naomit, class)
#####Set of ratios
# 1. Ratio: Gross Loans
data_naomit$GrossLoans <- data_naomit$Loans / data_naomit$TotalAssetes
# 2. Ratio: Trade
data_naomit$Trade <- data_naomit$TradingLiabilities / data_naomit$TotalAssetes
# 4. Ratio: Interbank Lending
data_naomit$InterbankLending <- (data_naomit$LoansAdvances + data_naomit$AssetRepos)  / data_naomit$TotalAssetes
# 5. Ratio: Interbank Borrowing
data_naomit$InterbankBorrowing <- (data_naomit$BankDeposits + data_naomit$LiabilityRepos)  / data_naomit$TotalAssetes
# 6. Ratio: Wholesale Debt
data_naomit$WholesaleDebt <- (data_naomit$OtherDepositsShortBorrowings + data_naomit$LongFunding)  / data_naomit$TotalAssetes
# 7. Ratio: Stable Funding
data_naomit$StableFunding <- (data_naomit$CustomerDeposits + data_naomit$LongFunding)  / data_naomit$TotalAssetes
# 8. Ratio: Deposits
data_naomit$Deposits <- data_naomit$CustomerDeposits / data_naomit$TotalAssetes
data_subset <- data_naomit[19:25]
data_subset <- scale(data_subset)
View(data_subset)
install.packages("corrplot")
library(corrplot)
rquery.cormat(data_subset)
cormat(data_subset)
corrplot(data_subset)
corrplot(data_subset)
?corrplot
data_subset)
corrplot(matrix
# Creating correllation matrix
matrix <- corr(data_subset)
# Creating correllation matrix
matrix <- corr(data_subset)
# Creating correllation matrix
matrix <- cor(data_subset)
corrplot(matrix)
cor(data_subset)
View(data_subset)
# Creating correllation matrix
matrix <- cor(scale(data_subset))
rm(list=ls())
library(corrplot)
library(cluster)
library(purrr)
library(factoextra)
library(dplyr)
library(dendextend)
library(tidyverse)
library(caret)
data <- read.csv('Ready_for_csv_export.csv', sep = ';')
data_nafix = na_if(data, "n.a.")
data_nafix = na_if(data_nafix, 0)
data_naomit = na.omit(data_nafix)
rownames(data_naomit) = data_naomit$Name
colnum <- as.vector(colnames(data_naomit[3:18]))
data_naomit[colnum]
data_naomit[colnum] <- sapply(data_naomit[colnum],as.numeric)
sapply(data_naomit, class)
#####Set of ratios
# 1. Ratio: Gross Loans
data_naomit$GrossLoans <- data_naomit$Loans / data_naomit$TotalAssetes
# 2. Ratio: Trade
data_naomit$Trade <- data_naomit$TradingLiabilities / data_naomit$TotalAssetes
# 4. Ratio: Interbank Lending
data_naomit$InterbankLending <- (data_naomit$LoansAdvances + data_naomit$AssetRepos)  / data_naomit$TotalAssetes
# 5. Ratio: Interbank Borrowing
data_naomit$InterbankBorrowing <- (data_naomit$BankDeposits + data_naomit$LiabilityRepos)  / data_naomit$TotalAssetes
# 6. Ratio: Wholesale Debt
data_naomit$WholesaleDebt <- (data_naomit$OtherDepositsShortBorrowings + data_naomit$LongFunding)  / data_naomit$TotalAssetes
# 7. Ratio: Stable Funding
data_naomit$StableFunding <- (data_naomit$CustomerDeposits + data_naomit$LongFunding)  / data_naomit$TotalAssetes
# 8. Ratio: Deposits
data_naomit$Deposits <- data_naomit$CustomerDeposits / data_naomit$TotalAssetes
data_subset <- data_naomit[19:25]
data_subset <- scale(data_subset)
# Creating correllation matrix
matrix <- cor(scale(data_subset))
corrplot(matrix)
View(data_subset)
rm(list=ls())
setwd("/Users/christian/Documents/Studium/FS 2021/Practitioner Seminar/Data Clustering")
library(corrplot)
library(cluster)
library(purrr)
library(factoextra)
library(dplyr)
library(dendextend)
library(tidyverse)
library(caret)
data <- read.csv('Ready_for_csv_export.csv', sep = ';')
data_nafix = na_if(data, "n.a.")
data_nafix = na_if(data_nafix, 0)
data_naomit = na.omit(data_nafix)
rownames(data_naomit) = data_naomit$Name
colnum <- as.vector(colnames(data_naomit[3:18]))
data_naomit[colnum]
data_naomit[colnum] <- sapply(data_naomit[colnum],as.numeric)
sapply(data_naomit, class)
View(data_naomit)
View(data)
View(data_nafix)
View(data_naomit)
rm(list=ls())
library(corrplot)
library(cluster)
library(purrr)
library(factoextra)
library(dplyr)
library(dendextend)
library(tidyverse)
rm(list=ls())
library(corrplot)
library(cluster)
library(purrr)
library(factoextra)
library(dplyr)
library(dendextend)
library(tidyverse)
library(caret)
data <- read.csv('Ready_for_csv_export.csv', sep = ';')
data_nafix = na_if(data, "n.a.")
View(data_nafix)
data_nafix = na_if(data_nafix, 0)
View(data_nafix)
data_naomit = na.omit(data_nafix)
View(data_naomit)
rownames(data_naomit) = data_naomit$Name
View(data_naomit)
colnum <- as.vector(colnames(data_naomit[3:18]))
data_naomit[colnum]
View(data_naomit)
data_naomit[colnum] <- sapply(data_naomit[colnum],as.numeric)
sapply(data_naomit, class)
View(data_naomit)
data <- read.csv('Ready_for_csv_export.csv', sep = ';')
data_nafix = na_if(data, "n.a.")
data_nafix = na_if(data_nafix, 0)
data_naomit = na.omit(data_nafix)
rownames(data_naomit) = data_naomit$Name
#colnames(data_naomit)
colnum <- as.vector(colnames(data_naomit[3:18]))
data_naomit[colnum]
sapply(data_naomit, class)
data_naomit[colnum] <- lapply(data_naomit[colnum], function(x) as.numeric(as.charachter(x)))
data_naomit[colnum] <- lapply(data_naomit[colnum], function(x) as.numeric(as.character(x)))
data_naomit[colnum] <- lapply(data_naomit[colnum], function(x) as.numeric(as.charachter(x)))
data_naomit[colnum] <- lapply(data_naomit[colnum], function(x) as.numeric(as.character(x)))
#####Set of ratios
# 1. Ratio: Gross Loans
data_naomit$GrossLoans <- data_naomit$Loans / data_naomit$TotalAssetes
# 2. Ratio: Trade
data_naomit$Trade <- data_naomit$TradingLiabilities / data_naomit$TotalAssetes
# 4. Ratio: Interbank Lending
data_naomit$InterbankLending <- (data_naomit$LoansAdvances + data_naomit$AssetRepos)  / data_naomit$TotalAssetes
# 5. Ratio: Interbank Borrowing
data_naomit$InterbankBorrowing <- (data_naomit$BankDeposits + data_naomit$LiabilityRepos)  / data_naomit$TotalAssetes
# 6. Ratio: Wholesale Debt
data_naomit$WholesaleDebt <- (data_naomit$OtherDepositsShortBorrowings + data_naomit$LongFunding)  / data_naomit$TotalAssetes
# 7. Ratio: Stable Funding
data_naomit$StableFunding <- (data_naomit$CustomerDeposits + data_naomit$LongFunding)  / data_naomit$TotalAssetes
# 8. Ratio: Deposits
data_naomit$Deposits <- data_naomit$CustomerDeposits / data_naomit$TotalAssetes
data_subset <- data_naomit[19:25]
data_subset <- scale(data_subset)
# Creating correllation matrix
matrix <- cor(scale(data_subset))
corrplot(matrix)
?corrplot
corrplot(corr=matrix, method="number", title="Corellation Matrix of Potential Proxies", order="hclust", hclust.method="ward.D")
corrplot(corr=matrix, method="number", title="Corellation Matrix of Potential Proxies", order="hclust", hclust.method="ward.D")
corrplot(corr=matrix, method="number", title="Corellation Matrix of Potential Proxies")
